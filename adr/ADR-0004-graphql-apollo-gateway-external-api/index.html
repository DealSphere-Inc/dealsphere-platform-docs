
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.17">
    
    
      
        <title>ADR-0004: GraphQL via Apollo Gateway for External API - DealSphere Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#adr-0004-graphql-via-apollo-gateway-for-external-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DealSphere Docs" class="md-header__button md-logo" aria-label="DealSphere Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DealSphere Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ADR-0004: GraphQL via Apollo Gateway for External API
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/DealSphere-Inc/dealsphere-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DealSphere Docs" class="md-nav__button md-logo" aria-label="DealSphere Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DealSphere Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/DealSphere-Inc/dealsphere-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-process.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Process
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ADRs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            ADRs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ADR-0001.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ADR-0001
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Technical
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Technical
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tech/phase-1-technical-plan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Technical Plan
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#context" class="md-nav__link">
    <span class="md-ellipsis">
      Context
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decision" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rationale" class="md-nav__link">
    <span class="md-ellipsis">
      Rationale
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Rationale">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-apollo-gateway-for-external-api" class="md-nav__link">
    <span class="md-ellipsis">
      Why Apollo Gateway for External API?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deferred-alternatives" class="md-nav__link">
    <span class="md-ellipsis">
      Deferred Alternatives
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rejected-alternatives" class="md-nav__link">
    <span class="md-ellipsis">
      Rejected Alternatives
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#consequences" class="md-nav__link">
    <span class="md-ellipsis">
      Consequences
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rollout-plan" class="md-nav__link">
    <span class="md-ellipsis">
      Rollout Plan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revisit-triggers" class="md-nav__link">
    <span class="md-ellipsis">
      Revisit Triggers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#target-sprint-for-formal-decision" class="md-nav__link">
    <span class="md-ellipsis">
      Target Sprint for Formal Decision
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guardrails" class="md-nav__link">
    <span class="md-ellipsis">
      Guardrails
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Guardrails">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#must" class="md-nav__link">
    <span class="md-ellipsis">
      Must
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#should" class="md-nav__link">
    <span class="md-ellipsis">
      Should
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wont" class="md-nav__link">
    <span class="md-ellipsis">
      Won't
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#approvals" class="md-nav__link">
    <span class="md-ellipsis">
      Approvals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#links" class="md-nav__link">
    <span class="md-ellipsis">
      Links
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="adr-0004-graphql-via-apollo-gateway-for-external-api">ADR-0004: GraphQL via Apollo Gateway for External API</h1>
<p><strong>Author:</strong> @MysterTech<br />
<strong>Status:</strong> Accepted<br />
<strong>Date:</strong> 2025-08-13<br />
<strong>Deciders:</strong> @MysterTech<br />
<strong>Technical Story:</strong> [optional link to ticket/issue]<br />
<strong>Tags:</strong> api, graphql, apollo, federation</p>
<h2 id="context">Context</h2>
<ul>
<li>The DealSphere platform requires a unified external API that can efficiently serve multiple client applications (web, mobile, partners) while maintaining strong type safety, query optimization, and schema evolution capabilities.</li>
<li>The PRD requires contract-first governance (schema linting, composition checks, breaking-change detection), persisted queries/safelisting, rate limiting, caching, centralized authn/z with tenant/class enforcement, and SLO-grade observability.</li>
<li>Internal services implement GraphQL subgraphs using Netflix DGS on Java 17 (ADR-0007), adopting Federation v2 for clear ownership and composition.</li>
<li>The architecture must support Federation v2 features including entity references, shared types, and advanced composition patterns between Node.js gateway and Java DGS subgraphs.</li>
<li><strong>PRD Alignment:</strong> The Phase 1 PRD requires a single governed GraphQL endpoint with defined SLOs (latency and error budgets), enforced via CI composition checks and safe rollouts. This ADR meets that by composing DGS subgraphs under Federation v2 and enforcing persisted queries, query limits, and centralized authn/z.</li>
</ul>
<h2 id="decision">Decision</h2>
<p>Adopt Apollo Gateway (Node.js, Federation v2) as the primary external API gateway to federate DGS subgraphs running on Java 17 for the DealSphere platform.</p>
<h2 id="rationale">Rationale</h2>
<h4 id="why-apollo-gateway-for-external-api">Why Apollo Gateway for External API?</h4>
<p><strong>Federation and Contract Governance</strong>
- Federation v2 aligns with bounded contexts and clear entity ownership.
- CI-enforced schema linting, composition, and breaking-change checks ensure safe evolution.</p>
<p><strong>Protocol Boundary: GraphQL over HTTP(S)</strong>
- Gateway â†” subgraphs communicate via GraphQL over HTTPS, matching federation standards and tooling.
- Keeps observability, auth, caching, and rate limiting consistent at the HTTP layer.</p>
<p><strong>Event-Driven Readiness (Protobuf)</strong>
- Protobuf schemas maintained alongside GraphQL SDL define internal message contracts.
- Enables future Kafka-based eventing without coupling core logic to a single transport.</p>
<p><strong>Transport-Agnostic Service Design</strong>
- Subgraphs keep business logic behind interfaces; resolvers stay thin.
- Adapters (e.g., Kafka producers/consumers) can be added later without changing external contracts.</p>
<p><strong>Security and Multi-Tenancy</strong>
- Centralized JWT/OIDC at the gateway; authorization via directives/middleware.
- Tenant/class enforcement and audit logging applied uniformly across subgraphs.</p>
<p><strong>Operability and Scale</strong>
- Standard metrics, traces, logs with correlation IDs; dashboards and alerts for SLOs.
- Independent scaling of gateway and subgraphs; persisted queries and query limits protect backends.</p>
<h3 id="deferred-alternatives">Deferred Alternatives</h3>
<ul>
<li><strong>New transport for inter-service calls (e.g., gRPC)</strong></li>
<li>Reason for rejection: Not required for Phase 1; GraphQL over HTTPS suffices for federation and keeps stack simpler.</li>
<li>
<p>Reconsider if: Internal service-to-service latency or throughput demands justify adding gRPC alongside HTTP.</p>
</li>
<li>
<p><strong>Event backbone via Kafka (as primary internal integration)</strong></p>
</li>
<li>Reason for rejection: Not needed for initial external API delivery; adds operational complexity up front.</li>
<li>Reconsider if: Domain events and async workflows become central; throughput or decoupling needs increase.</li>
</ul>
<h3 id="rejected-alternatives">Rejected Alternatives</h3>
<ul>
<li><strong>Monolithic GraphQL server</strong></li>
<li>Reason for rejection: Conflicts with bounded-context ownership and independent evolution of teams.</li>
<li>
<p>Reconsider if: Domain scope shrinks significantly and organizational structure centralizes.</p>
</li>
<li>
<p><strong>REST/OpenAPI-only gateway</strong></p>
</li>
<li>Reason for rejection: Lacks GraphQL composition benefits and flexible client querying across domains.</li>
<li>Reconsider if: External consumers require strictly RESTful contracts with no GraphQL adoption path.</li>
</ul>
<h2 id="consequences">Consequences</h2>
<p><strong>Positive</strong>
- Unified API endpoint simplifies client integration and governance.
- Consistent contracts and schema evolution through federation.
- Standardized observability, auth, and policies across all services.</p>
<p><strong>Negative</strong>
- Added operational overhead for gateway and schema registry.
- Federation complexity can cause logic creep or performance risks.
- Teams must support both Node.js and Java service runtimes.</p>
<p><strong>Mitigation Strategies</strong>
- Automated CI checks and schema validation at each deploy.
- Strict separation of concerns: thin gateway, minimal custom logic.
- Performance/load testing and cross-team documentation to maintain standards.</p>
<h2 id="rollout-plan">Rollout Plan</h2>
<ul>
<li><strong>Staging Phase:</strong> Deploy Apollo Gateway (Federation v2) in staging with connected DGS subgraphs; enable CI checks for schema linting, composition, and breaking-change detection; configure persisted queries, baseline query limits, and centralized authn/z; set up metrics, tracing, and logs.</li>
<li><strong>Canary Deployment:</strong> Route limited client and operation sets through the gateway; validate SLOs and core policies (authn/z, tenant/class checks, caching, rate limiting); monitor performance, error rates, and throughput.</li>
<li><strong>Cutover:</strong> Gradually ramp traffic to 100% through Gateway; enforce query safelisting, rate limits, and production caching; monitor latency, errors, and throttling; deprecate any legacy endpoints per migration timelines.</li>
<li><strong>Post-Cutover Operations:</strong> Tune limits, caching strategies, and autoscaling based on telemetry; keep CI gates strict for ongoing schema changes; finalize incident runbooks and SLO dashboards for operation continuity.</li>
</ul>
<h2 id="revisit-triggers">Revisit Triggers</h2>
<ul>
<li>Sustained latency/cost/regression attributable to the gateway or federation model.</li>
<li>Domain/team boundaries shift, making current subgraph ownership/composition misaligned.</li>
<li>Material ecosystem/security changes (tooling, vulnerabilities) affecting gateway/subgraphs or governance.</li>
</ul>
<h2 id="target-sprint-for-formal-decision">Target Sprint for Formal Decision</h2>
<p>Target Sprint: Sprint 1</p>
<h2 id="guardrails">Guardrails</h2>
<h3 id="must">Must</h3>
<ul>
<li>All DGS subgraphs implement Federation v2 directives correctly.</li>
<li>Schema changes pass CI compatibility validation; authn/z enforced at gateway.</li>
<li>Query limits, centralized error handling, and distributed tracing across all boundaries.</li>
</ul>
<h3 id="should">Should</h3>
<ul>
<li>Use GraphQL and DGS best practices; DataLoader for efficiency.</li>
<li>Apply consistent naming, proper caching, and persisted queries in production.</li>
<li>Maintain comprehensive API documentation and dashboards.</li>
</ul>
<h3 id="wont">Won't</h3>
<ul>
<li>Allow direct DB access from resolvers; no bypass of federation/approval processes.</li>
<li>Release schema changes without impact analysis or approval.</li>
<li>Implement custom federation outside Apollo/DGS standards.</li>
</ul>
<h2 id="approvals">Approvals</h2>
<table>
<thead>
<tr>
<th>Review</th>
<th>Reviewer</th>
<th>Date (YYYY-MM-DD)</th>
<th>Status</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Architectural Review</td>
<td>@MysterTech</td>
<td>2025-08-14</td>
<td>Approved</td>
<td></td>
</tr>
<tr>
<td>Security Review</td>
<td>@MysterTech</td>
<td>2025-08-14</td>
<td>Approved</td>
<td></td>
</tr>
<tr>
<td>SRE Review</td>
<td>@MysterTech</td>
<td>2025-08-14</td>
<td>Approved</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="links">Links</h2>
<p><strong>Review Before Deciding</strong></p>
<ul>
<li>Apollo Federation Documentation: <a href="https://www.apollographql.com/docs/federation/">Apollo Federation v2</a></li>
<li>Netflix DGS Documentation: <a href="https://netflix.github.io/dgs/">DGS Framework</a></li>
</ul>
<p><strong>Technology Landscape:</strong> <a href="../tech/tech-landscape.md">Tech Landscape Document</a></p>
<p><strong>Product/PRD:</strong> <a href="../../product/Phase1_PRD/#external-api">Phase 1 PRD - External API</a></p>
<p><strong>Sprint Plan:</strong> [Link to sprint planning documentation]</p>
<p><strong>Related ADRs:</strong></p>
<ul>
<li><a href="../ADR-0001-architecture-principles.md">ADR-0001: Architecture Principles</a></li>
<li><a href="../ADR-0002-runtime-platform-baseline.md">ADR-0002: Runtime/Platform Baseline</a></li>
<li><a href="../ADR-0003-api-first-strategy.md">ADR-0003: API-First Strategy</a></li>
<li><a href="../ADR-0005-infrastructure-baseline.md">ADR-0005: Infrastructure Baseline</a></li>
<li><a href="../ADR-0006-security-baseline.md">ADR-0006: Security Baseline</a></li>
<li><a href="../ADR-0007-service-framework-selection-dgs-java17.md">ADR-0007: Service Framework Selection (Netflix DGS, Java 17)</a></li>
<li><a href="../ADR-0008-api-schema-governance-federation.md">ADR-0008: API/Schema Governance &amp; Federation</a></li>
<li><a href="../ADR-0011-rbac-authorization-policies.md">ADR-0011: RBAC &amp; Authorization Policies</a></li>
<li><a href="../ADR-0012-secrets-management.md">ADR-0012: Secrets Management</a></li>
<li><a href="../ADR-0013-observability-standards.md">ADR-0013: Observability Standards (Metrics/Traces/Logs/SLOs)</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>